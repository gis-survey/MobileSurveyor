// Copyright Â© 2015 Jeffrey Meyers
// This program is released under the "MIT License".
// Please see the file COPYING in this distribution for
// license terms.

apply plugin: 'com.android.application'

android {
    compileSdkVersion 19
    buildToolsVersion "19.1.0"

    defaultConfig {
        minSdkVersion 16
        targetSdkVersion 19
        versionCode 1
        versionName "0.4.1"
        applicationId "com.meyersj.mobilesurveyor.app"
    }
    buildTypes {
        release {
            //minifyEnabled false
            //proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'
        }
    }
}

dependencies {
    compile 'com.android.support:appcompat-v7:19.+'
    compile 'me.dm7.barcodescanner:zxing:1.0'
	compile 'com.googlecode.json-simple:json-simple:1.1'
    compile 'joda-time:joda-time:2.3'
    compile 'ch.acra:acra:4.5.0'
    compile 'com.jakewharton:butterknife:7.0.1'
    compile ('com.mapbox.mapboxsdk:mapbox-android-sdk:0.4.0@aar'){
        transitive=true
    }
}

task copyProperties(type: Copy) {
    from '../config.properties'
    into 'src/main/assets'
}

task copyGeojson(type: Copy) {
    from '../data/output'
    into 'src/main/assets/geojson'
}

assemble.dependsOn copyProperties
assemble.mustRunAfter copyProperties
assembleDebug.dependsOn copyProperties
assembleDebug.mustRunAfter copyProperties
assembleRelease.dependsOn copyProperties
assembleRelease.mustRunAfter copyProperties

assemble.dependsOn copyGeojson
assemble.mustRunAfter copyGeojson
assembleDebug.dependsOn copyGeojson
assembleDebug.mustRunAfter copyGeojson
assembleRelease.dependsOn copyGeojson
assembleRelease.mustRunAfter copyGeojson


